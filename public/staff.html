<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ˆê°€ì§š ì§ì› ê´€ë¦¬</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* [ê³µí†µ] ë±ƒì§€ ìŠ¤íƒ€ì¼ */
        .count-badge {
            background: #ff5722; color: white; padding: 5px 12px;
            border-radius: 20px; font-size: 14px; font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* [ì£¼ê°„] í‘œ ìŠ¤íƒ€ì¼ ê°œì„  */
        .weekly-container {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            background: white;
        }
        .weekly-header {
            background: #4CAF50; color: white;
            padding: 10px 0; text-align: center; font-weight: bold;
            border-right: 1px solid rgba(255,255,255,0.2);
        }
        .weekly-header.sunday { background: #e53935; } /* ì¼ìš”ì¼ ë¹¨ê°„ìƒ‰ */
        .weekly-header.saturday { background: #1e88e5; } /* í† ìš”ì¼ íŒŒë€ìƒ‰ */

        .weekly-col {
            border-right: 1px solid #eee;
            min-height: 300px;
            padding: 5px;
            background: #fafafa;
        }
        .weekly-col:last-child { border-right: none; }
        
        /* ê·¼ë¬´ì ì¹´ë“œ (ì£¼ê°„) */
        .staff-card-weekly {
            background: white;
            border-left: 4px solid #2196F3;
            padding: 8px; margin-bottom: 5px;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            font-size: 12px;
        }
        .staff-card-weekly.exception { background: #fff3cd; border-color: #ffc107; } /* ë³€ë™ì‚¬í•­ ë…¸ë€ìƒ‰ */
        
        .staff-card-weekly strong { display: block; font-size: 13px; margin-bottom: 2px; }
        .staff-card-weekly span { color: #666; font-size: 11px; }

        /* [ì›”ë³„] ìº˜ë¦°ë” ìŠ¤íƒ€ì¼ */
        .calendar-controls {
            display: flex; justify-content: center; align-items: center;
            margin-bottom: 20px; gap: 20px;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #ddd;
            border: 1px solid #ddd;
        }
        .calendar-head {
            background: #f8f9fa; padding: 10px; text-align: center;
            font-weight: bold; color: #333;
        }
        .calendar-day {
            background: white; min-height: 100px; padding: 5px;
            cursor: pointer; position: relative;
            transition: background 0.2s;
        }
        .calendar-day:hover { background: #f1f3f5; }
        .calendar-day.empty { background: #f9f9f9; cursor: default; }
        .calendar-date-num { font-weight: bold; margin-bottom: 5px; display: block; }
        .calendar-staff-count {
            display: block; background: #e3f2fd; color: #1565c0;
            padding: 4px; border-radius: 4px; text-align: center;
            font-size: 12px; font-weight: bold; margin-top: 5px;
        }
        .calendar-day.sunday .calendar-date-num { color: red; }
        .calendar-day.saturday .calendar-date-num { color: blue; }

        /* [ê¸°íƒ€] ê¸°ì¡´ ìŠ¤íƒ€ì¼ */
        .log-table { width: 100%; border-collapse: collapse; font-size: 13px; margin-top: 10px; }
        .log-table th { background: #eee; padding: 8px; text-align: left; border-bottom: 2px solid #ddd; }
        .log-table td { padding: 8px; border-bottom: 1px solid #eee; }
        .log-action-ë“±ë¡ { color: #28a745; font-weight: bold; }
        .log-action-ìˆ˜ì • { color: #ffc107; font-weight: bold; }
        .log-action-ì‚­ì œ { color: #dc3545; font-weight: bold; }
        .bulk-guide { background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px; font-size: 13px; line-height: 1.6; }

        /* [ìˆ˜ì •ì•ˆ] ëª¨ë°”ì¼ì—ì„œë„ í‘œ ìœ ì§€ + ê°€ë¡œ ìŠ¤í¬ë¡¤ ì ìš© */
        @media (max-width: 768px) {
            /* ì»¨í…Œì´ë„ˆì— ê°€ë¡œ ìŠ¤í¬ë¡¤ í—ˆìš© */
            .status-container {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch; /* ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤ */
            }

            .weekly-container {
                /* ì„¸ë¡œ ì •ë ¬(Flex) ëŒ€ì‹  ê·¸ë¦¬ë“œ ìœ ì§€ */
                display: grid;
                /* í™”ë©´ì´ ì‘ì•„ë„ ìµœì†Œ 700px ë„ˆë¹„ë¥¼ í™•ë³´ (ìŠ¤í¬ë¡¤ ë°œìƒ) */
                min-width: 700px; 
            }

            /* ìš”ì¼ í—¤ë” ë‹¤ì‹œ ë³´ì´ê²Œ ì„¤ì • */
            .weekly-header { 
                display: block; 
                font-size: 12px; /* ê¸€ì í¬ê¸° ì•½ê°„ ì¶•ì†Œ */
            }

            /* ê¸°ì¡´ ëª¨ë°”ì¼ìš© ìŠ¤íƒ€ì¼(::before ë“±) ì œê±° ë˜ëŠ” ì´ˆê¸°í™” */
            .weekly-col { 
                min-height: 150px; /* ìµœì†Œ ë†’ì´ ì„¤ì • */
                border-bottom: none; 
                padding: 5px;
            }
            
            /* "ì›”ìš”ì¼", "í™”ìš”ì¼" ê¸€ì ì¤‘ë³µ í‘œì‹œ ì œê±° */
            .weekly-col::before { 
                content: none; 
            }
        }
    </style>
</head>
<body>
    <div id="loginOverlay" class="login-overlay" style="display: none;">
        <div class="login-box">
            <h2>ğŸ”’ ê´€ë¦¬ì/ì ì¥ ë¡œê·¸ì¸</h2>
            <p>ì§ì› ì •ë³´ë¥¼ ìˆ˜ì •í•˜ë ¤ë©´ ë¹„ë°€ë²ˆí˜¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.</p>
            <input type="password" id="loginPassword" placeholder="ë¹„ë°€ë²ˆí˜¸" onkeypress="if(event.key==='Enter') tryLogin()">
            <div style="margin-top: 15px; display: flex; gap: 10px;">
                <button class="btn" onclick="tryLogin()" style="flex:1;">ë¡œê·¸ì¸</button>
                <button class="btn" onclick="closeLoginModal()" style="flex:1; background:#666;">ë‹«ê¸°</button>
            </div>
            <div id="loginError" style="color:red; display:none; margin-top:10px;"></div>
        </div>
    </div>

    <div class="container" id="mainContent">
        <div class="header">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <button onclick="location.href='index.html'" style="background:#fff; color:#333; border:none; padding:8px 15px; border-radius:20px; font-weight:bold; cursor:pointer; box-shadow:0 2px 5px rgba(0,0,0,0.2);">
                    ğŸ  í™ˆ
                </button>
                <h1 style="font-size: 20px; margin:0;">ğŸ‘¥ ì§ì› ê·¼ë¬´ í˜„í™©</h1>
                <button id="loginBtn" onclick="openLoginModal()" style="background: rgba(255,255,255,0.2); color:white; border:1px solid white; padding:6px 12px; border-radius:15px; cursor:pointer; font-size:12px;">
                    ğŸ”’ ê´€ë¦¬ì ë¡œê·¸ì¸
                </button>
                <div id="userInfo" style="display:none; font-size: 12px; background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 15px;"></div>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('daily')">ì¼ë³„ í˜„í™©</button>
            <button class="tab" onclick="switchTab('weekly')">ì£¼ê°„ ê·¼ë¬´í‘œ</button>
            <button class="tab" onclick="switchTab('monthly')">ì›”ë³„ ìº˜ë¦°ë”</button>
            <button class="tab" id="manageTabBtn" onclick="switchTab('manage')" style="display:none; background:#fff3cd;">âš™ï¸ ì¸ì› ê´€ë¦¬</button>
            <button class="tab" id="logTabBtn" onclick="switchTab('logs')" style="display:none;">ğŸ“ ë³€ê²½ ì´ë ¥</button>
        </div>

        <div id="daily-content" class="tab-content active">
            <div class="status-container">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                    <button onclick="changeDate(-1)" class="number-btn">&lt;</button>
                    <div style="text-align: center;">
                        <h2 id="currentDateDisplay" style="margin:0;"></h2>
                        <span id="dailyCountBadge" class="count-badge" style="margin-top:5px; display:inline-block;">ì´ 0ëª… ê·¼ë¬´</span>
                    </div>
                    <button onclick="changeDate(1)" class="number-btn">&gt;</button>
                </div>

                <div id="dailyTools" style="text-align:right; margin-bottom:10px; padding:10px; background:#f1f3f5; border-radius:8px;">
                    <span style="font-size:12px; color:#666; margin-right:10px;">âš¡ ì˜¤ëŠ˜ ì¼ì • ê´€ë¦¬:</span>
                    <button onclick="addTempWorker()" style="background:#28a745; color:white; border:none; padding:5px 10px; border-radius:4px; cursor:pointer; font-weight:bold;">+ ì¼ì¼ ëŒ€íƒ€/ì¶”ê°€ ë“±ë¡</button>
                </div>

                <div id="dailyStaffList"></div>
            </div>
        </div>

        <div id="weekly-content" class="tab-content">
            <div class="status-container">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                    <button onclick="changeWeek(-1)" class="number-btn">&lt;</button>
                    <div style="text-align: center;">
                        <h2 id="weeklyRangeDisplay" style="margin:0;">12ì›” 0ì¼ ~ 12ì›” 0ì¼</h2>
                    </div>
                    <button onclick="changeWeek(1)" class="number-btn">&gt;</button>
                </div>
                
                <div class="weekly-container">
                    <div class="weekly-header sunday">ì¼</div>
                    <div class="weekly-header">ì›”</div>
                    <div class="weekly-header">í™”</div>
                    <div class="weekly-header">ìˆ˜</div>
                    <div class="weekly-header">ëª©</div>
                    <div class="weekly-header">ê¸ˆ</div>
                    <div class="weekly-header saturday">í† </div>
                    
                    <div id="col-Sun" class="weekly-col" data-day="ì¼ìš”ì¼"></div>
                    <div id="col-Mon" class="weekly-col" data-day="ì›”ìš”ì¼"></div>
                    <div id="col-Tue" class="weekly-col" data-day="í™”ìš”ì¼"></div>
                    <div id="col-Wed" class="weekly-col" data-day="ìˆ˜ìš”ì¼"></div>
                    <div id="col-Thu" class="weekly-col" data-day="ëª©ìš”ì¼"></div>
                    <div id="col-Fri" class="weekly-col" data-day="ê¸ˆìš”ì¼"></div>
                    <div id="col-Sat" class="weekly-col" data-day="í† ìš”ì¼"></div>
                </div>
            </div>
        </div>

        <div id="monthly-content" class="tab-content">
            <div class="status-container">
                <div class="calendar-controls">
                    <button onclick="changeMonth(-1)" class="number-btn">&lt;</button>
                    <h2 id="monthDisplay" style="margin:0;"></h2>
                    <button onclick="changeMonth(1)" class="number-btn">&gt;</button>
                </div>
                <div class="calendar-grid">
                    <div class="calendar-head" style="color:red">ì¼</div>
                    <div class="calendar-head">ì›”</div>
                    <div class="calendar-head">í™”</div>
                    <div class="calendar-head">ìˆ˜</div>
                    <div class="calendar-head">ëª©</div>
                    <div class="calendar-head">ê¸ˆ</div>
                    <div class="calendar-head" style="color:blue">í† </div>
                    <div id="calendarBody" style="display:contents;"></div>
                </div>
            </div>
        </div>

        <div id="manage-content" class="tab-content">
            <div class="form-container">
                <h2>ì§ì› ë“±ë¡/ê´€ë¦¬</h2>
                
                <div id="bulkSection" style="margin-bottom: 30px; display: none;">
                    <h3>ğŸ“‘ ì¼ê´„ ë“±ë¡ (ì‚¬ì¥ë‹˜ ì „ìš©)</h3>
                    <div class="bulk-guide">
                        <strong>ğŸ’¡ ì…ë ¥ í˜•ì‹:</strong> ì´ë¦„, ê·¼ë¬´ìš”ì¼, ì‹œê°„ (í•œ ì¤„ì— í•œ ëª…ì”©)<br>
                        <strong>ì˜ˆì‹œ:</strong><br>
                        ì´ì¤€í˜¸, ì›”í™”ìˆ˜ê¸ˆí† ì¼, 15~03<br>
                        ì„í˜„ì¤€, í† ì¼, 18:00~23:00
                    </div>
                    <textarea id="bulkText" class="bulk-input-area" placeholder="ì´ë¦„, ê·¼ë¬´ìš”ì¼, ì‹œê°„&#13;&#10;ì´ë¦„, ê·¼ë¬´ìš”ì¼, ì‹œê°„" style="height: 200px;"></textarea>
                    <button class="btn" onclick="processBulkText()">í•œ ë²ˆì— ë“±ë¡í•˜ê¸°</button>
                </div>

                <hr>
                <h3>ğŸ“‹ ì§ì› ëª©ë¡ (ìˆ˜ì •/ì‚­ì œ)</h3>
                <div id="manageStaffList" style="margin-top:15px;"></div>
            </div>
        </div>

        <div id="logs-content" class="tab-content">
            <div class="status-container">
                <h2>ğŸ“œ ê·¼ë¬´í‘œ ë³€ê²½ ì´ë ¥</h2>
                <div style="overflow-x: auto;">
                    <table class="log-table">
                        <thead>
                            <tr>
                                <th>ì‹œê°„</th>
                                <th>ì‘ì—…ì</th>
                                <th>êµ¬ë¶„</th>
                                <th>ëŒ€ìƒ</th>
                                <th>ë‚´ìš©</th>
                            </tr>
                        </thead>
                        <tbody id="logTableBody"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="staff.js"></script>
</body>
</html>