<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§¤ì¥ ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* [ê³µí†µ] ë±ƒì§€ ìŠ¤íƒ€ì¼ */
        .count-badge {
            background: #ff5722; color: white; padding: 5px 12px;
            border-radius: 20px; font-size: 14px; font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* [ì£¼ê°„] í‘œ ìŠ¤íƒ€ì¼ ê°œì„  */
        .weekly-container {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            background: white;
        }
        .weekly-header {
            background: #4CAF50; color: white;
            padding: 10px 0; text-align: center; font-weight: bold;
            border-right: 1px solid rgba(255,255,255,0.2);
        }
        .weekly-header.sunday { background: #e53935; }
        .weekly-header.saturday { background: #1e88e5; }

        .weekly-col {
            border-right: 1px solid #eee;
            min-height: 300px;
            padding: 5px;
            background: #fafafa;
        }
        .weekly-col:last-child { border-right: none; }

        /* [NEW] ì˜¤ëŠ˜ ë‚ ì§œ ê°•ì¡° ìŠ¤íƒ€ì¼ */
         .today-highlight {
            background-color: #e8f5e9 !important; /* ì—°í•œ ì´ˆë¡ìƒ‰ ë°°ê²½ */
            border: 2px solid #28a745 !important;  /* ì§„í•œ ì´ˆë¡ìƒ‰ í…Œë‘ë¦¬ */
            position: relative;
        }
        
        /* [NEW] ì˜¤ëŠ˜/ì´ë²ˆì£¼ ë¦¬ì…‹ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .reset-btn {
            background: white;
            border: 1px solid #ccc;
            color: #333;
            padding: 5px 12px;
            margin: 0 10px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            font-weight: bold;
            transition: all 0.2s;
        }
        .reset-btn:hover {
            background: #f1f3f5;
            border-color: #bbb;
        }
        
        /* ê·¼ë¬´ì ì¹´ë“œ (ì£¼ê°„) */
        .staff-card-weekly {
            background: white;
            border-left: 4px solid #2196F3;
            padding: 8px; margin-bottom: 5px;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            font-size: 12px;
        }
        .staff-card-weekly.exception { background: #fff3cd; border-color: #ffc107; }
        
        .staff-card-weekly strong { display: block; font-size: 13px; margin-bottom: 2px; }
        .staff-card-weekly span { color: #666; font-size: 11px; }

        /* [ì›”ë³„] ìº˜ë¦°ë” ìŠ¤íƒ€ì¼ */
        .calendar-controls {
            display: flex; justify-content: center; align-items: center;
            margin-bottom: 20px; gap: 20px;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #ddd;
            border: 1px solid #ddd;
        }
        .calendar-head {
            background: #f8f9fa; padding: 10px; text-align: center;
            font-weight: bold; color: #333;
        }
        .calendar-day {
            background: white; min-height: 100px; padding: 5px;
            cursor: pointer; position: relative;
            transition: background 0.2s;
        }
        .calendar-day:hover { background: #f1f3f5; }
        .calendar-day.empty { background: #f9f9f9; cursor: default; }
        .calendar-date-num { font-weight: bold; margin-bottom: 5px; display: block; }
        .calendar-staff-count {
            display: block; background: #e3f2fd; color: #1565c0;
            padding: 4px; border-radius: 4px; text-align: center;
            font-size: 12px; font-weight: bold; margin-top: 5px;
        }
        .calendar-day.sunday .calendar-date-num { color: red; }
        .calendar-day.saturday .calendar-date-num { color: blue; }

        /* [ê¸°íƒ€] ê¸°ì¡´ ìŠ¤íƒ€ì¼ */
        .log-table { width: 100%; border-collapse: collapse; font-size: 13px; margin-top: 10px; }
        .log-table th { background: #eee; padding: 8px; text-align: left; border-bottom: 2px solid #ddd; }
        .log-table td { padding: 8px; border-bottom: 1px solid #eee; }
        .log-action-ë“±ë¡ { color: #28a745; font-weight: bold; }
        .log-action-ìˆ˜ì • { color: #ffc107; font-weight: bold; }
        .log-action-ì‚­ì œ { color: #dc3545; font-weight: bold; }
        .bulk-guide { background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px; font-size: 13px; line-height: 1.6; }

        /* [NEW] ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); display: none;
            justify-content: center; align-items: center; z-index: 2000;
        }
        .modal-box {
            background: white; padding: 25px; border-radius: 10px;
            width: 90%; max-width: 400px; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .modal-box h2 { margin-bottom: 15px; text-align: center; }
        .modal-field { margin-bottom: 15px; }
        .modal-field label { display: block; font-weight: bold; margin-bottom: 5px; font-size: 13px; }
        .modal-actions { display: flex; gap: 10px; margin-top: 20px; }

        @media (max-width: 768px) {
            .status-container { overflow-x: auto; -webkit-overflow-scrolling: touch; }
            .weekly-container { display: grid; min-width: 700px; }
            .weekly-header { display: block; font-size: 12px; }
            .weekly-col { min-height: 150px; border-bottom: none; padding: 5px; }
            .weekly-col::before { content: none; }
        }

        .tabs {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* ë²„íŠ¼ ê°œìˆ˜ì— ë§ì¶° 4ì—´ë¡œ ë³€ê²½ */
            gap: 5px;
            background: transparent;
            box-shadow: none;
            margin-bottom: 15px;
        }
        .tab {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px 5px;
            font-size: 13px;
        }
        .tab.active {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* [NEW] ê°€ê³„ë¶€ ìŠ¤íƒ€ì¼ */
        .accounting-card {
            background: white; border-radius: 10px; padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-bottom: 15px;
        }
        .profit-display {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white; padding: 20px; border-radius: 10px; text-align: center;
            margin-bottom: 20px;
        }
        .profit-amount { font-size: 24px; font-weight: bold; margin: 10px 0; }
        .profit-detail { font-size: 12px; opacity: 0.9; display: flex; justify-content: space-around; margin-top: 10px; }
        
        .input-group-row { display: flex; gap: 10px; margin-bottom: 10px; }
        .input-group-row > div { flex: 1; }
        .money-input { text-align: right; color: #333; font-weight: bold; }
        
        .category-label { font-size: 12px; color: #666; margin-bottom: 3px; display: block; }
        
        .acc-table { width: 100%; font-size: 12px; border-collapse: collapse; }
        .acc-table th { background: #f1f3f5; padding: 8px; border-bottom: 1px solid #ddd; }
        .acc-table td { padding: 8px; border-bottom: 1px solid #eee; text-align: right; }
        .acc-table td:first-child { text-align: left; }

        /* ê°€ê³„ë¶€ ì„œë¸Œ íƒ­ ìŠ¤íƒ€ì¼ ë° ì• ë‹ˆë©”ì´ì…˜ */
        .acc-sub-content {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }
        .acc-sub-content.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .accounting-header-nav {
            display: flex; justify-content: space-between; align-items: center;
            background: #fff; padding: 15px; border-radius: 10px; margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .current-month-display { text-align: center; }
        .nav-btn { background: none; border: 1px solid #ddd; padding: 5px 10px; border-radius: 5px; cursor: pointer; }
        .reset-btn-mini { background: #f1f3f5; border: none; font-size: 11px; padding: 2px 8px; border-radius: 10px; cursor: pointer; margin-top: 5px; }

        .input-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 10px;
        }
        @media (max-width: 400px) { .input-grid { grid-template-columns: 1fr; } }
        
        .dashboard-summary {
            display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 15px;
        }
        .summary-card {
            background: white; padding: 15px 10px; border-radius: 10px; text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .summary-card .lbl { font-size: 11px; color: #666; margin-bottom: 5px; }
        .summary-card .val { font-size: 15px; font-weight: bold; }
        .summary-card.total-sales .val { color: #1976D2; }
        .summary-card.total-cost .val { color: #d32f2f; }
        .summary-card.net-profit { background: linear-gradient(135deg, #1e3c72, #2a5298); color: white; }
        .summary-card.net-profit .lbl { color: #bbdefb; }
        .summary-card.net-profit .val { color: #fff; font-size: 16px; }
        .sub-val { font-size: 11px; opacity: 0.8; margin-top: 2px; }

        .chart-title { font-size: 14px; color: #333; border-bottom: 2px solid #eee; padding-bottom: 5px; margin-bottom: 10px; }
        
        /* ë°” ì°¨íŠ¸ ìŠ¤íƒ€ì¼ */
        .bar-row { display: flex; align-items: center; margin-bottom: 8px; font-size: 12px; }
        .bar-label { width: 80px; text-align: right; margin-right: 10px; color: #555; }
        .bar-track { flex: 1; background: #f1f3f5; height: 15px; border-radius: 4px; overflow: hidden; position: relative; }
        .bar-fill { height: 100%; border-radius: 4px; display: flex; align-items: center; padding-left: 5px; color: white; font-size: 10px; white-space: nowrap; }
        .bar-value { margin-left: 10px; font-weight: bold; width: 60px; text-align: right; }

        /* [NEW] ì„ì‹œíœ´ë¬´ ìŠ¤íƒ€ì¼ */
        .temp-off-row { background-color: #f5f5f5 !important; border-left: 5px solid #9e9e9e !important; opacity: 0.8; }
        .temp-off-text { text-decoration: line-through; color: #999; }
        
        /* ì„œë¸Œ íƒ­ ì½˜í…ì¸  ìŠ¤íƒ€ì¼ (ê°€ê³„ë¶€ ìª½ê³¼ ë™ì¼í•œ ë¡œì§ ì ìš©) */
        .att-sub-content {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }
        .att-sub-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div id="tempWorkerModal" class="modal-overlay">
        <div class="modal-box">
            <h2>âš¡ ì¼ì¼ ëŒ€íƒ€/ì¶”ê°€ ê·¼ë¬´ ë“±ë¡</h2>
            <div class="modal-field">
                <label>ì´ë¦„</label>
                <input type="text" id="tempName" list="staffNameList" 
                    placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ê±°ë‚˜ ì„ íƒí•˜ì„¸ìš”"
                    oninput="autoFillSalary(this.value)"> 
                <datalist id="staffNameList"></datalist>
            </div>
            <div class="modal-field">
                <label>ì‹œê¸‰ (ì›)</label>
                <input type="number" id="tempSalary" placeholder="ì˜ˆ: 10000" value="10000">
                <p style="font-size:11px; color:#666; margin-top:3px;">* ì…ë ¥í•´ì•¼ 'ì˜ˆìƒ ìˆœìµ' ì¸ê±´ë¹„ì— í¬í•¨ë©ë‹ˆë‹¤.</p>
            </div>
            <div class="modal-field">
                <label>ê·¼ë¬´ ì‹œê°„ ì„¤ì •</label>
                <div style="display:flex; align-items:center; gap:5px; margin-bottom:5px;">
                    <select id="tempStartHour" style="padding:5px; flex:1;"></select> ì‹œ
                    <select id="tempStartMin" style="padding:5px; flex:1;">
                        <option value="00">00</option><option value="10">10</option>
                        <option value="20">20</option><option value="30">30</option>
                        <option value="40">40</option><option value="50">50</option>
                    </select> ë¶„
                </div>
                <div style="text-align:center; font-weight:bold; color:#666;">~</div>
                <div style="display:flex; align-items:center; gap:5px; margin-top:5px;">
                    <select id="tempEndHour" style="padding:5px; flex:1;"></select> ì‹œ
                    <select id="tempEndMin" style="padding:5px; flex:1;">
                        <option value="00">00</option><option value="10">10</option>
                        <option value="20">20</option><option value="30">30</option>
                        <option value="40">40</option><option value="50">50</option>
                    </select> ë¶„
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn" onclick="saveTempWorker()" style="flex:1; background:#28a745;">ë“±ë¡í•˜ê¸°</button>
                <button class="btn" onclick="closeTempModal()" style="flex:1; background:#666;">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>
    <div id="loginOverlay" class="modal-overlay">
        <div class="modal-box">
            <h2>ğŸ”’ ê´€ë¦¬ì/ì ì¥ ë¡œê·¸ì¸</h2>
            <p style="margin-bottom:15px; color:#666;">ì§ì› ì •ë³´ë¥¼ ìˆ˜ì •í•˜ë ¤ë©´ ë¹„ë°€ë²ˆí˜¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.</p>
            <input type="password" id="loginPassword" placeholder="ë¹„ë°€ë²ˆí˜¸" onkeypress="if(event.key==='Enter') tryLogin()" style="width:100%; padding:10px;">
            <div class="modal-actions">
                <button class="btn" onclick="tryLogin()" style="flex:1;">ë¡œê·¸ì¸</button>
                <button class="btn" onclick="closeLoginModal()" style="flex:1; background:#666;">ë‹«ê¸°</button>
            </div>
            <div id="loginError" style="color:red; display:none; margin-top:10px; text-align:center;"></div>
        </div>
    </div>

    <div id="editModalOverlay" class="modal-overlay">
        <div class="modal-box">
            <h2>âœï¸ ì§ì› ì •ë³´ ìˆ˜ì •</h2>
            <input type="hidden" id="editId">
            <div class="modal-field">
                <label>ì´ë¦„</label>
                <input type="text" id="editName" disabled style="background:#eee;">
            </div>
            <div class="modal-field">
                <label>ê·¼ë¬´ ì‹œê°„ (ì˜ˆ: 18:00~23:00)</label>
                <input type="text" id="editTime">
            </div>
            
            <div style="background:#fff3e0; padding:10px; border-radius:5px; margin-bottom:15px; margin-top:10px;">
                <h4 style="margin:0 0 10px 0; font-size:13px; color:#ef6c00;">ğŸ“… ì…/í‡´ì‚¬ ê´€ë¦¬ (ê¸‰ì—¬ ê³„ì‚°ìš©)</h4>
                <div class="input-group-row"> 
                    <div style="margin-right:10px;">
                        <label style="font-size:12px; font-weight:bold;">ì…ì‚¬ì¼ (Start)</label>
                        <input type="date" id="editStartDate" style="width:100%; padding:5px;">
                    </div>
                    <div>
                        <label style="font-size:12px; font-weight:bold;">í‡´ì‚¬ì¼ (End)</label>
                        <input type="date" id="editEndDate" style="width:100%; padding:5px;">
                    </div>
                </div>
            </div>
            
            <div id="modalSalarySection" style="display:none; background:#f0f8ff; padding:10px; border-radius:5px;">
                <div class="modal-field">
                    <label>ğŸ’° ê¸‰ì—¬ í˜•íƒœ (ì‚¬ì¥ë‹˜ ì „ìš©)</label>
                    <select id="editSalaryType">
                        <option value="hourly">ì‹œê¸‰ (ì•Œë°”)</option>
                        <option value="monthly">ì›”ê¸‰ (ì§ì›)</option>
                    </select>
                </div>
                <div class="modal-field">
                    <label>ê¸ˆì•¡ (ì›)</label>
                    <input type="number" id="editSalary" placeholder="ì˜ˆ: 12000">
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn" onclick="saveStaffEdit()" style="flex:1;">ì €ì¥</button>
                <button class="btn" onclick="closeEditModal()" style="flex:1; background:#666;">ì·¨ì†Œ</button>
            </div>
        </div>
    </div> 
    <div id="mergeModalOverlay" class="modal-overlay">
        <div class="modal-box" style="max-width:600px;">
            <h2>ğŸ”§ ì¤‘ë³µ ì§ì› ë³‘í•©</h2>
            <div id="mergeModalContent"></div>
            <div class="modal-actions">
                <button onclick="closeMergeModal()" style="background:#6c757d; color:white; border:none; padding:10px 20px; border-radius:5px; font-weight:bold; width:100%;">
                    ë‹«ê¸°
                </button>
            </div>
        </div>
    </div>

    <div id="timeChangeModal" class="modal-overlay">
        <div class="modal-box">
            <h2>â° ê·¼ë¬´ ì‹œê°„ ë³€ê²½</h2>
            <input type="hidden" id="timeChangeId">
            <input type="hidden" id="timeChangeDate">
            <div class="modal-field">
                <label>ë³€ê²½í•  ì‹œê°„ ì„¤ì •</label>
                <div style="display:flex; align-items:center; gap:5px; margin-bottom:5px;">
                    <select id="tcStartHour" style="padding:5px; flex:1;"></select> ì‹œ
                    <select id="tcStartMin" style="padding:5px; flex:1;">
                        <option value="00">00</option><option value="10">10</option>
                        <option value="30">30</option><option value="40">40</option><option value="50">50</option>
                    </select> ë¶„
                </div>
                <div style="text-align:center; font-weight:bold; color:#666;">~</div>
                <div style="display:flex; align-items:center; gap:5px; margin-top:5px;">
                    <select id="tcEndHour" style="padding:5px; flex:1;"></select> ì‹œ
                    <select id="tcEndMin" style="padding:5px; flex:1;">
                        <option value="00">00</option><option value="10">10</option>
                        <option value="30">30</option><option value="40">40</option><option value="50">50</option>
                    </select> ë¶„
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn" onclick="submitTimeChange()" style="flex:1; background:#17a2b8;">ë³€ê²½í•˜ê¸°</button>
                <button class="btn" onclick="closeTimeChangeModal()" style="flex:1; background:#666;">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>

    <div id="salaryModal" class="modal-overlay">
        <div class="modal-box" style="max-width:500px;">
            <h2>ğŸ’° ì´ë²ˆ ë‹¬ ì˜ˆìƒ ê¸‰ì—¬</h2>
            <div style="max-height:300px; overflow-y:auto; margin-bottom:15px;">
                <table class="log-table">
                    <thead>
                        <tr>
                            <th>ì´ë¦„</th>
                            <th>êµ¬ë¶„</th>
                            <th>ì¼/ì‹œê°„</th>
                            <th style="text-align:right;">ì˜ˆìƒ ì§€ê¸‰ì•¡</th>
                        </tr>
                    </thead>
                    <tbody id="salaryTableBody"></tbody>
                </table>
            </div>
            <div id="totalSalaryAmount" style="text-align:right; font-size:18px; font-weight:bold; color:#d32f2f;"></div>
            <div class="modal-actions">
                <button class="btn" onclick="closeSalaryModal()" style="width:100%; background:#666;">ë‹«ê¸°</button>
            </div>
        </div>
    </div>

    <div class="container" id="mainContent">
        <div class="header">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <button onclick="location.href='index.html'" style="background:#fff; color:#333; border:none; padding:8px 15px; border-radius:20px; font-weight:bold; cursor:pointer; box-shadow:0 2px 5px rgba(0,0,0,0.2);">
                    ğŸ  ì˜ˆì•½í™ˆ
                </button>
                
                <h1 id="pageTitle" style="font-size: 20px; margin:0;">ğŸ‘¥ ì§ì› ê·¼ë¬´ í˜„í™©</h1>
                
                <button id="loginBtn" onclick="openLoginModal()" style="background: rgba(255,255,255,0.2); color:white; border:1px solid white; padding:6px 12px; border-radius:15px; cursor:pointer; font-size:12px;">
                    ğŸ”’ ê´€ë¦¬ì ë¡œê·¸ì¸
                </button>
                <div id="userInfo" style="display:none; font-size: 12px; background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 15px;"></div>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('attendance')">ê·¼ë¬´/ì§ì›ê´€ë¦¬</button>
            <button class="tab" onclick="switchTab('accounting')" style="background:#e3f2fd; color:#0d47a1;">ë§¤ì…/ë§¤ì¶œ</button>
            <button class="tab" id="unifiedTabBtn" onclick="switchTab('unified')" style="display:none; background:#e8f5e9; color:#2e7d32; border:1px solid #c8e6c9;">í†µí•©ë¶„ì„</button>
            <button class="tab" id="switchStoreBtn" onclick="moveToOtherStore()" style="display:none; background:#f4f4f4; color:#333; border:1px solid #bbb; font-weight:bold;">ğŸ”„ë§¤ì¥ì „í™˜</button>
        </div>

        <div id="attendance-content" class="tab-content active">    
            <div class="accounting-card" style="margin-bottom: 15px; padding: 10px;">
                <div class="tabs" style="grid-template-columns: repeat(5, 1fr); margin-bottom: 0;">
                    <button class="tab active" onclick="switchAttSubTab('att-daily', this)">ğŸ“… ì¼ë³„</button>
                    <button class="tab" onclick="switchAttSubTab('att-weekly', this)">ğŸ—“ ì£¼ê°„</button>
                    <button class="tab" onclick="switchAttSubTab('att-monthly', this)">ğŸ“† ì›”ë³„</button>
                    <button class="tab" onclick="switchAttSubTab('att-manage', this)" style="background:#fff3cd; color:#856404;">ğŸ‘¥ ì§ì›ê´€ë¦¬</button>
                    <button class="tab" onclick="switchAttSubTab('att-logs', this)" style="font-size:11px;">ğŸ“œ ë³€ê²½ì´ë ¥</button>
                </div>
            </div>

            <div id="att-daily" class="att-sub-content active">
                <div class="status-container">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                        <button onclick="changeDate(-1)" class="number-btn">&lt;</button>
                        <div style="text-align: center;">
                            <h2 id="currentDateDisplay" style="margin:0;"></h2>
                            <button onclick="resetToToday()" class="reset-btn">ì˜¤ëŠ˜ ë³´ê¸°</button> 
                            <span id="dailyCountBadge" class="count-badge" style="margin-top:5px; display:inline-block;">ì´ 0ëª… ê·¼ë¬´</span>
                        </div>
                        <button onclick="changeDate(1)" class="number-btn">&gt;</button>
                    </div>

                    <div id="dailyTools" style="text-align:right; margin-bottom:10px; padding:10px; background:#f1f3f5; border-radius:8px;">
                        <span style="font-size:12px; color:#666; margin-right:10px;">âš¡ ì˜¤ëŠ˜ ì¼ì • ê´€ë¦¬:</span>
                        <button onclick="addTempWorker()" style="background:#28a745; color:white; border:none; padding:5px 10px; border-radius:4px; cursor:pointer; font-weight:bold;">+ ì¼ì¼ ëŒ€íƒ€/ì¶”ê°€ ë“±ë¡</button>
                    </div>

                    <div id="dailyStaffList"></div>
                </div>
            </div>

            <div id="att-weekly" class="att-sub-content">
                <div class="status-container">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                        <button onclick="changeWeek(-1)" class="number-btn">&lt;</button>
                        <div style="text-align: center;">
                            <h2 id="weeklyRangeDisplay" style="margin:0;"></h2>
                            <button onclick="resetToThisWeek()" class="reset-btn">ì´ë²ˆ ì£¼ ë³´ê¸°</button>
                        </div>
                        <button onclick="changeWeek(1)" class="number-btn">&gt;</button>
                    </div>
                    
                    <div class="weekly-container">
                        <div id="header-Sun" class="weekly-header sunday">ì¼</div>
                        <div id="header-Mon" class="weekly-header">ì›”</div>
                        <div id="header-Tue" class="weekly-header">í™”</div>
                        <div id="header-Wed" class="weekly-header">ìˆ˜</div>
                        <div id="header-Thu" class="weekly-header">ëª©</div>
                        <div id="header-Fri" class="weekly-header">ê¸ˆ</div>
                        <div id="header-Sat" class="weekly-header saturday">í† </div>
                        
                        <div id="col-Sun" class="weekly-col" data-day="ì¼ìš”ì¼"></div>
                        <div id="col-Mon" class="weekly-col" data-day="ì›”ìš”ì¼"></div>
                        <div id="col-Tue" class="weekly-col" data-day="í™”ìš”ì¼"></div>
                        <div id="col-Wed" class="weekly-col" data-day="ìˆ˜ìš”ì¼"></div>
                        <div id="col-Thu" class="weekly-col" data-day="ëª©ìš”ì¼"></div>
                        <div id="col-Fri" class="weekly-col" data-day="ê¸ˆìš”ì¼"></div>
                        <div id="col-Sat" class="weekly-col" data-day="í† ìš”ì¼"></div>
                    </div>
                </div>
            </div>

            <div id="att-monthly" class="att-sub-content">
                <div class="status-container">
                    <div class="calendar-controls">
                        <button onclick="changeMonth(-1)" class="number-btn">&lt;</button>
                        <div style="text-align:center;">
                            <h2 id="monthDisplay" style="margin:0;"></h2>
                            <button onclick="resetToThisMonth()" class="reset-btn" style="margin-top:5px;">ì´ë²ˆ ë‹¬ ë³´ê¸°</button>
                        </div>
                        <button onclick="changeMonth(1)" class="number-btn">&gt;</button>
                    </div>
                    <div class="calendar-grid">
                        <div class="calendar-head" style="color:red">ì¼</div>
                        <div class="calendar-head">ì›”</div>
                        <div class="calendar-head">í™”</div>
                        <div class="calendar-head">ìˆ˜</div>
                        <div class="calendar-head">ëª©</div>
                        <div class="calendar-head">ê¸ˆ</div>
                        <div class="calendar-head" style="color:blue">í† </div>
                        <div id="calendarBody" style="display:contents;"></div>
                    </div>
                </div>
            </div>

            <div id="att-manage" class="att-sub-content">
                <div class="form-container">
                    <div style="display:flex; justify-content:space-between; align-items:center;">
                        <h2>ì§ì› ë“±ë¡/ê´€ë¦¬</h2>
                        <div id="salarySection" style="display:none;">
                            <button onclick="calculateMonthlySalary()" style="background:#673ab7; color:white; border:none; padding:8px 15px; border-radius:5px; font-weight:bold; cursor:pointer;">
                                ğŸ’° ì´ë²ˆë‹¬ ê¸‰ì—¬ ì˜ˆì¸¡
                            </button>
                        </div>
                    </div>
                    
                    <div id="bulkSection" style="margin-bottom: 30px; display: none;">
                        <h3>ğŸ“‘ ì¼ê´„ ë“±ë¡ (ì‚¬ì¥ë‹˜ ì „ìš©)</h3>
                        <div class="bulk-guide">
                            <strong>ğŸ’¡ ì˜ˆì‹œ:</strong> ì´ë¦„, ì›”í™”ìˆ˜, 18~23<br>
                        </div>
                        <textarea id="bulkText" class="bulk-input-area" placeholder="ì´ë¦„, ê·¼ë¬´ìš”ì¼, ì‹œê°„" style="height: 100px; width:100%; padding:10px; margin-top:5px;"></textarea>
                        <button class="btn" onclick="processBulkText()">í•œ ë²ˆì— ë“±ë¡í•˜ê¸°</button>
                    </div>

                    <hr style="margin:20px 0;">
                    <h3>ğŸ“‹ ì§ì› ëª©ë¡</h3>
                    <div id="manageStaffList" style="margin-top:15px;"></div>
                </div>
            </div>

            <div id="att-logs" class="att-sub-content">
                <div class="status-container">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                        <h2>ğŸ“œ ë°ì´í„° ë³€ê²½ ì´ë ¥</h2>
                        <button id="adminBackupBtn" onclick="downloadAllData()" style="display:none; background:#2e7d32; color:white; border:none; padding:8px 15px; border-radius:5px; font-weight:bold; cursor:pointer;">
                            ğŸ’¾ ë°±ì—…
                        </button>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="log-table">
                            <thead>
                                <tr>
                                    <th>ì‹œê°„</th>
                                    <th>ì‘ì—…ì</th>
                                    <th>êµ¬ë¶„</th>
                                    <th>ë‚´ìš©</th>
                                </tr>
                            </thead>
                            <tbody id="logTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div id="unified-content" class="tab-content">
            <!-- ì›” ì´ë™ ë„¤ë¹„ê²Œì´ì…˜ ì¶”ê°€ -->
            <div class="accounting-header-nav">
                <button onclick="changeUnifiedMonth(-1)" class="nav-btn">â—€ ì „ì›”</button>
                <div class="current-month-display">
                    <h2 id="unifiedMonthTitle" style="margin:0;">2024ë…„ 12ì›”</h2>
                    <button onclick="resetUnifiedMonth()" class="reset-btn-mini">ì´ë²ˆ ë‹¬ë¡œ ì´ë™</button>
                </div>
                <button onclick="changeUnifiedMonth(1)" class="nav-btn">ìµì›” â–¶</button>
            </div>
            
            <div class="accounting-card" style="border-top: 4px solid #2e7d32;">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                    <h2 style="color:#1b5e20; margin:0;">ğŸ“Š í†µí•© í˜„í™©íŒ</h2>
                    <button onclick="sendKakaoBriefingManual()" style="background:#FEE500; color:#3c1e1e; border:none; padding:8px 12px; border-radius:5px; font-weight:bold; cursor:pointer; font-size:13px; box-shadow:0 2px 3px rgba(0,0,0,0.1);">
                    ğŸ”” ì¹´í†¡ë³´ë‚´ê¸°
                    </button>
                    <select id="unifiedStoreSelect" onchange="updateUnifiedView()" style="width:auto; padding:8px; font-weight:bold; border:2px solid #2e7d32; border-radius:5px;">
                        <option value="combined">í†µí•©ë¶„ì„</option>
                        <option value="chogazip">ì´ˆê°€ì§š</option>
                        <option value="yangeun">ì–‘ì€ì´ë„¤</option>
                    </select>
                </div>

                <div class="tabs" style="grid-template-columns: repeat(2, 1fr); margin-bottom: 15px;">
                    <button class="tab active" onclick="switchUnifiedSubTab('uni-prediction', this)">ğŸ”® ì˜ˆìƒ ìˆœìµ</button>
                    <button class="tab" onclick="switchUnifiedSubTab('uni-dashboard', this)">ğŸ“Š ì›”ê°„ ë¶„ì„</button>
                </div>

                <div id="uni-prediction" class="uni-sub-content active" style="animation: fadeIn 0.3s;">
                    <div class="dashboard-summary">
                        <div class="summary-card total-sales">
                            <div class="lbl">í†µí•© ë§¤ì¶œ</div>
                            <div class="val" id="uniPredSales">0ì›</div>
                        </div>
                        <div class="summary-card total-cost">
                            <div class="lbl">í†µí•© ì§€ì¶œ (ì¼í• )</div>
                            <div class="val" id="uniPredCost" style="color:#ab47bc;">0ì›</div>
                        </div>
                        <div class="summary-card net-profit" style="background: linear-gradient(135deg, #2e7d32, #43a047);">
                            <div class="lbl">í†µí•© ìˆœìˆ˜ìµ</div>
                            <div class="val" id="uniPredProfit">0ì›</div>
                            <div class="sub-val" id="uniPredMargin">0%</div>
                        </div>
                    </div>
                    <div style="margin-top:20px;">
                        <h4 style="font-size:13px; color:#333; margin-bottom:10px;">ğŸ“‰ í†µí•© ë¹„ìš© ìƒì„¸</h4>
                        <div id="uniPredCostList" class="cost-list"></div>
                    </div>
                </div>

                <div id="uni-dashboard" class="uni-sub-content" style="display:none; animation: fadeIn 0.3s;">
                    <div class="dashboard-summary">
                        <div class="summary-card total-sales">
                            <div class="lbl">ì´ ë§¤ì¶œ</div>
                            <div class="val" id="uniDashSales">0ì›</div>
                        </div>
                        <div class="summary-card total-cost">
                            <div class="lbl">ì´ ì§€ì¶œ</div>
                            <div class="val" id="uniDashCost">0ì›</div>
                        </div>
                        <div class="summary-card net-profit">
                            <div class="lbl">ìˆœìˆ˜ìµ</div>
                            <div class="val" id="uniDashProfit">0ì›</div>
                            <div class="sub-val" id="uniDashMargin">0%</div>
                        </div>
                    </div>
                    <h3 class="chart-title" style="margin-top:20px;">ğŸ“Š ë§¤ì¶œ ìœ í˜• ë¶„ì„</h3>
                    <div id="uniSalesChart"></div>
                </div>
            </div>
        </div>
        <div id="weekly-content" class="tab-content">
            <div class="status-container">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                    <button onclick="changeWeek(-1)" class="number-btn">&lt;</button>
                    <div style="text-align: center;">
                        <h2 id="weeklyRangeDisplay" style="margin:0;">12ì›” 0ì¼ ~ 12ì›” 0ì¼</h2>
                        <button onclick="resetToThisWeek()" class="reset-btn">ì´ë²ˆ ì£¼ ë³´ê¸°</button>
                    </div>
                    <button onclick="changeWeek(1)" class="number-btn">&gt;</button>
                </div>
                
                <div class="weekly-container">
                    <div class="weekly-header sunday">ì¼</div>
                    <div class="weekly-header">ì›”</div>
                    <div class="weekly-header">í™”</div>
                    <div class="weekly-header">ìˆ˜</div>
                    <div class="weekly-header">ëª©</div>
                    <div class="weekly-header">ê¸ˆ</div>
                    <div class="weekly-header saturday">í† </div>
                    
                    <div id="col-Sun" class="weekly-col" data-day="ì¼ìš”ì¼"></div>
                    <div id="col-Mon" class="weekly-col" data-day="ì›”ìš”ì¼"></div>
                    <div id="col-Tue" class="weekly-col" data-day="í™”ìš”ì¼"></div>
                    <div id="col-Wed" class="weekly-col" data-day="ìˆ˜ìš”ì¼"></div>
                    <div id="col-Thu" class="weekly-col" data-day="ëª©ìš”ì¼"></div>
                    <div id="col-Fri" class="weekly-col" data-day="ê¸ˆìš”ì¼"></div>
                    <div id="col-Sat" class="weekly-col" data-day="í† ìš”ì¼"></div>
                </div>
            </div>
        </div>

        <div id="monthly-content" class="tab-content">
            <div class="status-container">
                <div class="calendar-controls">
                    <button onclick="changeMonth(-1)" class="number-btn">&lt;</button>
                    <div style="text-align:center;">
                        <h2 id="monthDisplay" style="margin:0;"></h2>
                        <button onclick="resetToThisMonth()" class="reset-btn" style="margin-top:5px;">ì´ë²ˆ ë‹¬ ë³´ê¸°</button>
                    </div>
                    <button onclick="changeMonth(1)" class="number-btn">&gt;</button>
                </div>
                <div class="calendar-grid">
                    <div class="calendar-head" style="color:red">ì¼</div>
                    <div class="calendar-head">ì›”</div>
                    <div class="calendar-head">í™”</div>
                    <div class="calendar-head">ìˆ˜</div>
                    <div class="calendar-head">ëª©</div>
                    <div class="calendar-head">ê¸ˆ</div>
                    <div class="calendar-head" style="color:blue">í† </div>
                    <div id="calendarBody" style="display:contents;"></div>
                </div>
            </div>
        </div>
    
        <div id="accounting-content" class="tab-content">
            <div class="accounting-header-nav">
                <button onclick="changeAccMonth(-1)" class="nav-btn">â—€ ì „ì›”</button>
                <div class="current-month-display">
                    <h2 id="dashboardTitle" style="margin:0;">2024ë…„ 12ì›”</h2>
                    <button onclick="resetAccMonth()" class="reset-btn-mini">ì´ë²ˆ ë‹¬ë¡œ ì´ë™</button>
                </div>
                <button onclick="changeAccMonth(1)" class="nav-btn">ìµì›” â–¶</button>
            </div>
    
            <div class="tabs" style="grid-template-columns: repeat(7, 1fr); margin-bottom: 15px;">
                <button class="tab active" onclick="switchAccSubTab('acc-daily', this)">ì¼ì¼ì…ë ¥</button>
                <button class="tab" onclick="switchAccSubTab('acc-history', this)">ì…ë ¥ë‚´ì—­</button>
                <button class="tab" onclick="switchAccSubTab('acc-prediction', this)" style="background:#f3e5f5; color:#4a148c;">ì˜ˆìƒìˆœìµ</button>
                <button class="tab" onclick="switchAccSubTab('acc-dashboard', this)">ì›”ê°„ë¶„ì„</button>
                <button class="tab" onclick="switchAccSubTab('acc-monthly', this)">ê³ ì •ë¹„</button>
                <button class="tab" onclick="switchAccSubTab('acc-prepayment', this)" style="background:#fff8e1; color:#f57c00; font-weight:bold;">ì„ ê²°ì œì¥ë¶€</button>
                <button class="tab" onclick="switchAccSubTab('acc-logs', this)" style="font-size:11px; background:#e8f5e9; color:#2e7d32;">ğŸ“œ ë³€ê²½ì´ë ¥</button>
            </div>

            <div id="acc-prepayment" class="acc-sub-content">
                <div class="status-container">
                    <div class="accounting-card" style="background:#fff8e1; border:1px solid #ffe0b2;">
                        <h3 style="color:#f57c00; margin-bottom:15px;">ğŸ’³ ì„ ê²°ì œ ë“±ë¡ (ì¶©ì „ / ì°¨ê°)</h3>
                        <div class="input-grid">
                            <div>
                                <span class="category-label">ğŸ“… ë‚ ì§œ</span>
                                <input type="date" id="preDate" class="money-input" style="text-align:center;">
                            </div>
                            <div>
                                <span class="category-label">ğŸ¢ ê³ ê°ëª… (ì‹ ê·œì…ë ¥ or ì„ íƒ)</span>
                                <input type="text" id="preCustName" list="customerList" class="money-input" placeholder="ê³ ê°ëª…/íšŒì‚¬ëª…">
                                <datalist id="customerList"></datalist>
                            </div>
                            <div>
                                <span class="category-label">ğŸ’° ê¸ˆì•¡</span>
                                <input type="number" id="preAmount" class="money-input" placeholder="0">
                            </div>
                            <div>
                                <span class="category-label">âš™ï¸ êµ¬ë¶„</span>
                                <select id="preType" class="money-input" style="text-align:center; font-weight:bold;">
                                    <option value="use">ğŸ”´ ì‚¬ìš©(ì°¨ê°)</option>
                                    <option value="charge">ğŸŸ¢ ì¶©ì „(ì…ê¸ˆ)</option>
                                </select>
                            </div>
                        </div>
                        <div style="margin-top:10px;">
                            <span class="category-label">ğŸ“ ë©”ëª¨ (ë©”ë‰´, íŠ¹ì´ì‚¬í•­ ë“±)</span>
                            <input type="text" id="preNote" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:5px;" placeholder="ì˜ˆ: ê¹€ì¹˜ì°Œê°œ 4ì¸, ì†Œì£¼ 2ë³‘">
                        </div>
                        <button onclick="savePrepayment()" style="width:100%; margin-top:15px; background:#ff9800; color:white; padding:12px; border:none; border-radius:5px; font-weight:bold; font-size:16px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            ğŸ’¾ ì €ì¥í•˜ê¸°
                        </button>
                    </div>

                    <div class="accounting-card">
                        <h3 class="chart-title" style="margin-top:10px;">ğŸ‘¥ ê³ ê°ë³„ ì”ì•¡ í˜„í™©</h3>
                        <div style="overflow-x:auto;">
                            <table class="acc-table" style="width:100%;">
                                <thead>
                                    <tr style="background:#f1f3f5;">
                                        <th style="text-align:left; padding:10px;">ê³ ê°ëª…</th>
                                        <th style="text-align:right; padding:10px;">í˜„ì¬ ì”ì•¡</th>
                                        <th style="text-align:right; padding:10px;">ë§ˆì§€ë§‰ ì´ìš©</th>
                                    </tr>
                                </thead>
                                <tbody id="preBalanceTable"></tbody>
                            </table>
                        </div>

                        <h3 class="chart-title" style="margin-top:30px;">ğŸ“œ ìµœê·¼ ì´ìš© ë‚´ì—­ (ì „ì²´)</h3>
                        <div style="overflow-x:auto;">
                            <table class="log-table">
                                <thead>
                                    <tr style="background:#eee;">
                                        <th>ë‚ ì§œ</th>
                                        <th>ì‘ì—…ì</th> 
                                        <th>ê³ ê°ëª…</th>
                                        <th>êµ¬ë¶„</th>
                                        <th style="text-align:right;">ê¸ˆì•¡</th>
                                        <th style="text-align:right;">ì”ì•¡</th>
                                        <th>ë©”ëª¨</th>
                                        <th>ê´€ë¦¬</th>
                                    </tr>
                                </thead>
                                <tbody id="preLogTable"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div id="acc-logs" class="acc-sub-content">
                <div class="status-container">
                    <div style="margin-bottom:15px;">
                        <h2>ğŸ“œ ë§¤ì…/ë§¤ì¶œ ë³€ê²½ ì´ë ¥</h2>
                        <p style="font-size:12px; color:#666;">ë§¤ì¶œ ì…ë ¥/ìˆ˜ì •, ê³ ì •ë¹„ ì„¤ì •, ì„ ê²°ì œ ë“± íšŒê³„ ê´€ë ¨ ë³€ê²½ ë‚´ì—­ë§Œ í‘œì‹œë©ë‹ˆë‹¤.</p>
                    </div>

                    <div style="overflow-x: auto;">
                        <table class="log-table">
                            <thead>
                                <tr>
                                    <th>ì‹œê°„</th>
                                    <th>ì‘ì—…ì</th>
                                    <th>êµ¬ë¶„</th>
                                    <th>ëŒ€ìƒ</th>
                                    <th>ë‚´ìš©</th>
                                </tr>
                            </thead>
                            <tbody id="accLogTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
    
            <div id="acc-daily" class="acc-sub-content active">
                <div class="accounting-card">
                    <div style="background:#e3f2fd; padding:10px; border-radius:5px; margin-bottom:15px; font-size:13px; color:#0d47a1;">
                        ğŸ’¡ <strong>ì•ˆë‚´:</strong> ë‚ ì§œë¥¼ ì„ íƒí•˜ê³  ê¸ˆì•¡ì„ ì…ë ¥í•œ ë’¤ [ì €ì¥í•˜ê¸°]ë¥¼ ëˆ„ë¥´ì„¸ìš”.<br>
                        ìˆ˜ì •ì´ í•„ìš”í•œ ê²½ìš° <strong>[ì…ë ¥ ë‚´ì—­]</strong> íƒ­ì—ì„œ ìˆ˜ì • ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.
                    </div>
    
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; border-bottom:1px solid #eee; padding-bottom:10px;">
                        <input type="date" id="accDate" class="date-picker" onchange="loadDailyAccounting()" style="padding:10px; font-size:15px; width:60%;">
                        <button onclick="saveDailyAccounting()" style="width:35%; background:#29b6f6; color:white; border:none; padding:10px; border-radius:5px; font-weight:bold; font-size:14px; box-shadow:0 2px 5px rgba(0,0,0,0.2);">ğŸ’¾ ì €ì¥í•˜ê¸°</button>
                    </div>
    
                    <h4 style="color:#607d8b; margin-bottom:10px;">ğŸ’µ ëˆí†µ(ì‹œì¬) ì •ì‚°</h4>
                    <div style="background:#f8f9fa; padding:15px; border-radius:8px; border:1px solid #ddd; margin-bottom:20px;">
                        
                        <div style="margin-bottom: 10px;">
                            <span class="category-label" style="font-weight:bold; color:#00796b;">â‘  ì˜ì—… ì‹œì‘ ì „ ëˆí†µ ê¸ˆì•¡ (ì‹œì¬ê¸ˆ+ëˆí†µê¸ˆì•¡)</span>
                            <input type="number" id="inpStartCash" class="money-input" value="100000" oninput="calcDrawerTotal()" style="width:100%; padding:10px; font-size:16px; border:2px solid #00796b;">
                        </div>
    
                        <div class="input-group-row" style="align-items: center; border-top:1px dashed #ccc; padding-top:10px; margin-top:10px;">
                            <div style="flex:1;">
                                <span class="category-label">â• ì˜¤ëŠ˜ í˜„ê¸ˆ ë§¤ì¶œ</span>
                                <input type="number" id="inpCash" class="money-input" placeholder="0" oninput="calcDrawerTotal()" style="background:#fff;">
                            </div>
                        </div>
    
                        <div class="input-group-row" style="align-items: center; margin-top:10px;">
                            <div style="flex:1;">
                                <span class="category-label">â– ê³„ì¢Œì´ì²´ (í˜„ê¸ˆX)</span>
                                <input type="number" id="inpTransfer" class="money-input" placeholder="0" oninput="calcDrawerTotal()" style="color:#e65100; background:#fff3e0;">
                            </div>
                            <div style="flex:1;">
                                <span class="category-label">â– ì¤‘ê°„/ë§ˆê° ì…ê¸ˆ</span>
                                <input type="number" id="inpDeposit" class="money-input" placeholder="0" oninput="calcDrawerTotal()" style="color:#d32f2f;">
                            </div>
                        </div>
    
                        <div style="margin-top:15px; padding:15px; background:#e3f2fd; border-radius:5px; text-align:right;">
                            <span class="category-label" style="color:#1565c0; font-weight:bold; font-size:14px;">ğŸ‘‰ ì§€ê¸ˆ ëˆí†µì— ìˆì–´ì•¼ í•  ëˆ</span>
                            <div id="drawerTotalDisplay" style="font-size:28px; font-weight:bold; color:#1565c0; margin-top:5px;">100,000ì›</div>
                        </div>
                    </div>
    
                    <h4 style="color:#1976D2; margin-bottom:10px;">ğŸ’³ ë§¤ì¶œ ìƒì„¸ ì…ë ¥</h4>
                        <div class="input-grid" id="salesInputGrid">
                            <div>
                                <span class="category-label">ğŸ’³ ì¹´ë“œ ë§¤ì¶œ</span>
                                <input type="number" id="inpCard" class="money-input" placeholder="0">
                            </div>
                            <div>
                                <span class="category-label">ğŸ« ìƒí’ˆê¶Œ/ê¸°íƒ€</span>
                                <input type="number" id="inpGift" class="money-input" placeholder="0">
                            </div>
                            
                        </div>
    
                    <div style="margin-top:15px;">
                        <span class="category-label">ğŸ“ íŠ¹ì´ì‚¬í•­ (ë©”ëª¨)</span>
                        <input type="text" id="inpNote" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:5px;" placeholder="ì˜ˆ: ë‹¨ì²´ ì˜ˆì•½ ì·¨ì†Œ, ë¹„ ë§ì´ ì˜´">
                    </div>
    
                    <h4 style="color:#d32f2f; margin-top:25px; margin-bottom:10px; border-top:1px dashed #ddd; padding-top:15px;">ğŸ“¤ ì¼ì¼ ì§€ì¶œ</h4>
                    <div class="input-grid">
                        <div>
                            <span class="category-label">ğŸ¥¬ ì‚¼ì‹œì„¸ë¼(ì•¼ì±„)</span>
                            <input type="number" id="inpFood" class="money-input" placeholder="0">
                        </div>
                        <div>
                            <span class="category-label" id="labelMeat">ğŸ¥© í•œê°•ìœ í†µ(ê³ ê¸°)</span>
                            <input type="number" id="inpMeat" class="money-input" placeholder="0">
                        </div>
                        <div>
                            <span class="category-label" id="labelEtc">ğŸ¦ ê¸°íƒ€ ì¡ë¹„</span>
                            <input type="number" id="inpEtc" class="money-input" placeholder="0">
                        </div>
                    </div>
                </div>
            </div>
    
            <div id="acc-history" class="acc-sub-content">
                <div class="accounting-card">
                    <h3 class="chart-title">ğŸ“œ ì…ë ¥ ë‚´ì—­ ì¡°íšŒ ë° ê²€ì¦</h3>
                    <div style="background:#f8f9fa; padding:15px; border-radius:8px; margin-bottom:15px; border:1px solid #ddd;">
                        <div style="display:flex; gap:5px; margin-bottom:10px; align-items:center;">
                            <select id="historyFilterSelect" style="padding:8px; font-size:14px; border:1px solid #ccc; border-radius:4px; flex:2;">
                                <option value="all">ğŸ” ì „ì²´ ë³´ê¸° (í•„í„° ì—†ìŒ)</option>
                                <optgroup label="ë§¤ì¶œ í•­ëª©">
                                    <option value="card">ğŸ’³ ì¹´ë“œ ë§¤ì¶œ</option>
                                    <option value="cash">ğŸ’µ í˜„ê¸ˆ ë§¤ì¶œ</option>
                                    <option value="baemin">ğŸ›µ ë°°ë‹¬ì˜ë¯¼ì¡±</option>
                                    <option value="yogiyo">ğŸ›µ ìš”ê¸°ìš”</option>
                                    <option value="coupang">ğŸ›µ ì¿ íŒ¡ì´ì¸ </option>
                                    <option value="gift">ğŸ« ìƒí’ˆê¶Œ/ê¸°íƒ€</option>
                                </optgroup>
                                <optgroup label="ì§€ì¶œ í•­ëª©">
                                    <option value="meat">ğŸ¥© ê³ ê¸°/SPC</option>
                                    <option value="food">ğŸ¥¬ ì‚¼ì‹œì„¸ë¼/ìœ í†µ</option>
                                    <option value="etc">ğŸ¦ ê¸°íƒ€ ì¡ë¹„</option>
                                </optgroup>
                            </select>
                            <button onclick="applyHistoryFilter()" style="flex:1; padding:8px; background:#455a64; color:white; border:none; border-radius:4px; font-weight:bold; cursor:pointer;">ê²€ìƒ‰</button>
                        </div>
                        
                        <div id="filterResultSummary" style="display:none; background:#e8f5e9; color:#2e7d32; padding:10px; border-radius:5px; text-align:center; font-weight:bold; border:1px solid #c8e6c9;">
                            </div>
                    </div>

                    <div style="overflow-x: auto;">
                        <table class="log-table" style="margin-top:0;">
                            <thead>
                                <tr>
                                    <th style="width:50px;">ë‚ ì§œ</th>
                                    <th>ì´ë§¤ì¶œ</th>
                                    <th>ì´ì§€ì¶œ</th>
                                    <th>ìƒì„¸ë‚´ì—­</th>
                                    <th style="width:50px;">ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody id="historyTableBody">
                                </tbody>
                        </table>
                    </div>
             
                    <div style="overflow-x: auto;">
                        <table class="log-table" style="margin-top:0;">
                            <thead>
                                <tr>
                                    <th style="width:50px;">ë‚ ì§œ</th>
                                    <th>ì´ë§¤ì¶œ</th>
                                    <th>ì´ì§€ì¶œ</th>
                                    <th>ìƒì„¸ë‚´ì—­</th>
                                    <th style="width:50px;">ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody id="historyTableBody">
                                </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="acc-prediction" class="acc-sub-content">
                <div class="accounting-card" style="border-top: 4px solid #ab47bc;">
                    <h3 class="chart-title" style="color:#4a148c;">ğŸ”® ì´ë²ˆ ë‹¬ íë¦„ ì˜ˆì¸¡ (ì¼í•  ê³„ì‚°)</h3>
                    <p style="font-size:12px; color:#666; margin-bottom:15px; background:#f3e5f5; padding:10px; border-radius:5px;">
                        ì›” ê³ ì •ë¹„(ì„ëŒ€ë£Œ, ì¸ê±´ë¹„ ë“±)ë¥¼ í†µì§¸ë¡œ ë¹¼ì§€ ì•Šê³ , 
                        <strong>ì˜¤ëŠ˜ ë‚ ì§œ(<span id="predDateRatio">0/31</span>)</strong>ë§Œí¼ë§Œ ë‚˜ëˆ„ì–´ ê³„ì‚°í•©ë‹ˆë‹¤.<br>
                        "ì˜¤ëŠ˜ê¹Œì§€ ì¥ì‚¬í•œ ê²ƒë§Œ ë”°ì¡Œì„ ë•Œ"ì˜ ì‹¤ì§ˆì ì¸ ìˆœìˆ˜ìµì…ë‹ˆë‹¤.
                    </p>

                    <div class="dashboard-summary">
                        <div class="summary-card total-sales">
                            <div class="lbl">í˜„ì¬ ì´ ë§¤ì¶œ</div>
                            <div class="val" id="predTotalSales">0ì›</div>
                        </div>
                        <div class="summary-card total-cost">
                            <div class="lbl">í˜„ì¬ ì§€ì¶œ (ê³ ì •ë¹„ 1/N)</div>
                            <div class="val" id="predTotalCost" style="color:#ab47bc;">0ì›</div>
                        </div>
                        <div class="summary-card net-profit" style="background: linear-gradient(135deg, #6a1b9a, #8e24aa);">
                            <div class="lbl">ë³´ì • ìˆœìˆ˜ìµ</div>
                            <div class="val" id="predNetProfit">0ì›</div>
                            <div class="sub-val" id="predMargin">0%</div>
                        </div>
                    </div>

                    <div style="margin-top:20px;">
                        <h4 style="font-size:13px; color:#333; margin-bottom:10px;">ğŸ“‰ ë¹„ìš© ìƒì„¸ (ê³ ì •ë¹„ëŠ” <span id="predCostText">ì¼í• </span> ì ìš©ë¨)</h4>
                        <div id="predCostList" class="cost-list"></div>
                        <div id="predDetailAnalysis" style="margin-top:20px; border-top:1px solid #eee; padding-top:15px;"></div>
                    </div>
                </div>
            </div>
    
            <div id="acc-dashboard" class="acc-sub-content">
                <div class="dashboard-summary">
                    <div class="summary-card total-sales">
                        <div class="lbl">ì´ ë§¤ì¶œ</div>
                        <div class="val" id="dashTotalSales">0ì›</div>
                    </div>
                    <div class="summary-card total-cost">
                        <div class="lbl">ì´ ì§€ì¶œ</div>
                        <div class="val" id="dashTotalCost">0ì›</div>
                    </div>
                    <div class="summary-card net-profit">
                        <div class="lbl">ìˆœìˆ˜ìµ (ë§ˆì§„ìœ¨)</div>
                        <div class="val" id="dashNetProfit">0ì›</div>
                        <div class="sub-val" id="dashMargin">0%</div>
                    </div>
                    <div class="summary-card break-even" style="background:#fff3e0; grid-column: span 3;">
                            <div class="lbl" style="color:#ef6c00;">ğŸ’¡ ì†ìµë¶„ê¸°ì  ë¶„ì„</div>
                            <div class="val" id="dashBreakEven" style="font-size:13px; color:#333; font-weight:normal;">ê³„ì‚° ì¤‘...</div>
                    </div>
                </div>
    
                <div class="accounting-card">
                    <h3 class="chart-title">ğŸ“Š ë§¤ì¶œ ìƒì„¸ ë¶„ì„ (ìœ í˜•ë³„)</h3>
                    <div id="salesBreakdownChart"></div>
                </div>
    
                <div class="accounting-card">
                    <h3 class="chart-title">ğŸ“‰ ì§€ì¶œ ìƒì„¸ ë¶„ì„ (í° ì§€ì¶œ ìˆœ)</h3>
                    <div id="costBreakdownList" class="cost-list"></div>
                    <div style="margin-top:15px; padding-top:10px; border-top:1px solid #eee; text-align:right; font-size:12px; color:#666;">
                        * ì§ì› ì¸ê±´ë¹„(ì˜ˆìƒ) <span id="dashStaffCost">0</span>ì› í¬í•¨ë¨
                    </div>
                    <div id="dashDetailAnalysis" style="margin-top:20px; border-top:1px solid #eee; padding-top:15px;"></div>
                </div>
            </div>
    
            <div id="acc-monthly" class="acc-sub-content">
                <div class="accounting-card">
                    <h4 style="color:#00796b; margin-bottom:10px;">ğŸ—“ï¸ <span id="fixCostTitle">12ì›”</span> ê³ ì • ì§€ì¶œ ì„¤ì •</h4>
                    <p style="font-size:12px; color:#666; margin-bottom:15px;">* ì›” 1íšŒ ì²­êµ¬ë˜ê±°ë‚˜ ë§¤ì›” ê³ ì •ì ìœ¼ë¡œ ë‚˜ê°€ëŠ” ë¹„ìš©</p>
    
                    <div class="input-grid">
                        <div>
                            <span class="category-label">ğŸ  ì„ëŒ€ë£Œ</span>
                            <input type="number" id="fixRent" class="money-input" placeholder="0">
                        </div>
                        <div>
                            <span class="category-label">ğŸ’¡ ê´€ë¦¬ë¹„/ê³µê³¼ê¸ˆ</span>
                            <input type="number" id="fixUtility" class="money-input" placeholder="0">
                        </div>
                        <div>
                            <span class="category-label">ğŸ”¥ ê°€ìŠ¤ë¹„</span>
                            <input type="number" id="fixGas" class="money-input" placeholder="0">
                        </div>
                        <div>
                            <span class="category-label">ğŸº ì£¼ë¥˜ (ì›”ë§ê²°ì œ)</span>
                            <input type="number" id="fixLiquor" class="money-input" placeholder="0">
                        </div>
                        <div>
                            <span class="category-label">ğŸ¶ ì£¼ë¥˜ëŒ€ì¶œìƒí™˜</span>
                            <input type="number" id="fixLiquorLoan" class="money-input" placeholder="0">
                        </div>
                        <div>
                            <span class="category-label">ğŸ¥¤ ìŒë£Œ (ì›”ë§ê²°ì œ)</span>
                            <input type="number" id="fixBeverage" class="money-input" placeholder="0">
                        </div>

                        <div id="divDeliveryFee" style="display:none;">
                            <span class="category-label">ğŸ›µ ë°°ë‹¬ ìˆ˜ìˆ˜ë£Œ</span>
                            <input type="number" id="fixDeliveryFee" class="money-input" placeholder="0">
                        </div>
                        
                        <div id="divDisposable" style="display:none;"> <span class="category-label">ğŸ¥¡ ì¼íšŒìš©ê¸°(í¬ì¥)</span>
                            <input type="number" id="fixDisposable" class="money-input" placeholder="0">
                        </div>
                        <div>
                            <span class="category-label">ğŸ’³ ì‚¬ì—…ìì¹´ë“œ ëŒ€ê¸ˆ</span>
                            <input type="number" id="fixBusinessCard" class="money-input" placeholder="0">
                        </div>
                        <div>
                            <span class="category-label">ğŸ§‘â€ğŸ’¼ ì„¸ë¬´ì‚¬ ê¸°ì¥ë£Œ</span>
                            <input type="number" id="fixTaxAgent" class="money-input" placeholder="0">
                        </div>
                        <div>
                            <span class="category-label">ğŸ’¸ ë¶€ê°€ì„¸/ì¢…ì†Œì„¸</span>
                            <input type="number" id="fixTax" class="money-input" placeholder="0">
                        </div>
                        <div>
                            <span class="category-label">ğŸ—‘ï¸ ìŒì‹ë¬¼ ì“°ë ˆê¸°</span>
                            <input type="number" id="fixFoodWaste" class="money-input" placeholder="0">
                        </div>
                        <div>
                            <span class="category-label">ğŸ“Ÿ í…Œì´ë¸”ì˜¤ë”/ì¸í„°ë„·</span>
                            <input type="number" id="fixTableOrder" class="money-input" placeholder="0">
                        </div>
    
                        <div>
                            <span class="category-label">ğŸ”§ ê¸°íƒ€ ê³ ì •ë¹„</span>
                            <input type="number" id="fixEtc" class="money-input" placeholder="0">
                        </div>
                    </div>

                    <div style="margin-top:20px; padding-top:15px; border-top:2px dashed #ddd;">
                        <h4 style="color:#d81b60; margin-bottom:10px;">ğŸ“Š ë§¤ì¶œ ìƒì„¸ ë¶„ì„ ì„¤ì • (ì›ê°€ìœ¨ ê³„ì‚°ìš©)</h4>
                        <p style="font-size:12px; color:#666; margin-bottom:10px;">
                            * í¬ìŠ¤ê¸°ì—ì„œ í™•ì¸í•œ <strong>ì´ë²ˆ ë‹¬ ì „ì²´ ì£¼ë¥˜/ìŒë£Œ ë§¤ì¶œ</strong>ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.<br>
                            * ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ 'ì‹ìì¬ ì›ê°€ìœ¨' ê³„ì‚° ì‹œ ì£¼ë¥˜/ìŒë£Œ ë§¤ì¶œì´ í¬í•¨ë˜ì–´ ì •í™•ë„ê°€ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </p>
                        <div class="input-grid">
                            <div>
                                <span class="category-label">ğŸº ì›”ê°„ ì£¼ë¥˜ ì´ë§¤ì¶œ</span>
                                <input type="number" id="fixAlcoholSales" class="money-input" placeholder="0">
                            </div>
                            <div>
                                <span class="category-label">ğŸ¥¤ ì›”ê°„ ìŒë£Œ ì´ë§¤ì¶œ</span>
                                <input type="number" id="fixBeverageSales" class="money-input" placeholder="0">
                            </div>
                        </div>
                    </div>
                    
                    <button onclick="saveFixedCost()" style="width:100%; background:#00796b; color:white; padding:12px; border:none; border-radius:5px; font-weight:bold; margin-top:20px;">
                        ğŸ’¾ <span id="fixBtnMonth">12ì›”</span> ë°ì´í„° ì €ì¥
                    </button>
                </div>
            </div>
        </div>

        <div id="logs-content" class="tab-content">
            <div class="status-container">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                    <h2>ğŸ“œ ê·¼ë¬´í‘œ ë° ë°ì´í„° ë³€ê²½ ì´ë ¥</h2>
                    
                    <button id="adminBackupBtn" onclick="downloadAllData()" style="display:none; background:#2e7d32; color:white; border:none; padding:10px 20px; border-radius:5px; font-weight:bold; cursor:pointer; box-shadow:0 2px 5px rgba(0,0,0,0.2);">
                        ğŸ’¾ íŒŒì¼ë³„ ë°±ì—… ë‹¤ìš´ë¡œë“œ (4ê°œ íŒŒì¼)
                    </button>
                </div>

                <div style="overflow-x: auto;">
                    <table class="log-table">
                        <thead>
                            <tr>
                                <th>ì‹œê°„</th>
                                <th>ì‘ì—…ì</th>
                                <th>êµ¬ë¶„</th>
                                <th>ëŒ€ìƒ</th>
                                <th>ë‚´ìš©</th>
                            </tr>
                        </thead>
                        <tbody id="logTableBody"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="staff.js"></script>
</body>
</html>